0000	3c 3f 78 6d 6c 20 76 65  72 73 69 6f 6e 3d 22 31   <?xml version="1
0010	2e 30 22 20 65 6e 63 6f  64 69 6e 67 3d 22 55 54   .0" encoding="UT
0020	46 2d 38 22 3f 3e 0d 0a  3c 21 44 4f 43 54 59 50   F-8"?>..<!DOCTYP
0030	45 20 6d 61 70 70 65 72  20 50 55 42 4c 49 43 20   E mapper PUBLIC 
0040	22 2d 2f 2f 6d 79 62 61  74 69 73 2e 6f 72 67 2f   "-//mybatis.org/
0050	2f 44 54 44 20 4d 61 70  70 65 72 20 33 2e 30 2f   /DTD Mapper 3.0/
0060	2f 45 4e 22 20 22 68 74  74 70 3a 2f 2f 6d 79 62   /EN" "http://myb
0070	61 74 69 73 2e 6f 72 67  2f 64 74 64 2f 6d 79 62   atis.org/dtd/myb
0080	61 74 69 73 2d 33 2d 6d  61 70 70 65 72 2e 64 74   atis-3-mapper.dt
0090	64 22 3e 0d 0a 3c 6d 61  70 70 65 72 20 6e 61 6d   d">..<mapper nam
00a0	65 73 70 61 63 65 3d 22  63 6f 6d 2e 68 61 6f 63   espace="com.haoc
00b0	61 69 2e 6d 61 6e 61 67  65 6d 65 6e 74 2e 6d 61   ai.management.ma
00c0	70 70 65 72 2e 53 75 70  70 6c 69 65 72 49 6e 66   pper.SupplierInf
00d0	6f 4d 61 70 70 65 72 22  3e 0d 0a 0d 0a 20 20 20   oMapper">....   
00e0	20 3c 21 2d 2d 20 e5 88  86 e9 a1 b5 e6 9f a5 e8    <!-- ..........
00f0	af a2 e4 be 9b e5 ba 94  e5 95 86 e5 88 97 e8 a1   ................
0100	a8 ef bc 88 e5 b8 a6 e6  9d a1 e4 bb b6 ef bc 89   ................
0110	20 2d 2d 3e 0d 0a 20 20  20 20 3c 73 65 6c 65 63    -->..    <selec
0120	74 20 69 64 3d 22 73 65  6c 65 63 74 50 61 67 65   t id="selectPage
0130	4c 69 73 74 22 20 72 65  73 75 6c 74 54 79 70 65   List" resultType
0140	3d 22 63 6f 6d 2e 68 61  6f 63 61 69 2e 6d 61 6e   ="com.haocai.man
0150	61 67 65 6d 65 6e 74 2e  65 6e 74 69 74 79 2e 53   agement.entity.S
0160	75 70 70 6c 69 65 72 49  6e 66 6f 22 3e 0d 0a 20   upplierInfo">.. 
0170	20 20 20 20 20 20 20 53  45 4c 45 43 54 20 2a 20          SELECT * 
0180	46 52 4f 4d 20 73 75 70  70 6c 69 65 72 5f 69 6e   FROM supplier_in
0190	66 6f 20 57 48 45 52 45  20 64 65 6c 65 74 65 64   fo WHERE deleted
01a0	20 3d 20 30 0d 0a 20 20  20 20 20 20 20 20 3c 69    = 0..        <i
01b0	66 20 74 65 73 74 3d 22  71 75 65 72 79 2e 73 75   f test="query.su
01c0	70 70 6c 69 65 72 4e 61  6d 65 20 21 3d 20 6e 75   pplierName != nu
01d0	6c 6c 20 61 6e 64 20 71  75 65 72 79 2e 73 75 70   ll and query.sup
01e0	70 6c 69 65 72 4e 61 6d  65 20 21 3d 20 27 27 22   plierName != ''"
01f0	3e 0d 0a 20 20 20 20 20  20 20 20 20 20 20 20 41   >..            A
0200	4e 44 20 73 75 70 70 6c  69 65 72 5f 6e 61 6d 65   ND supplier_name
0210	20 4c 49 4b 45 20 43 4f  4e 43 41 54 28 27 25 27    LIKE CONCAT('%'
0220	2c 20 23 7b 71 75 65 72  79 2e 73 75 70 70 6c 69   , #{query.suppli
0230	65 72 4e 61 6d 65 7d 2c  20 27 25 27 29 0d 0a 20   erName}, '%').. 
0240	20 20 20 20 20 20 20 3c  2f 69 66 3e 0d 0a 20 20          </if>..  
0250	20 20 20 20 20 20 3c 69  66 20 74 65 73 74 3d 22         <if test="
0260	71 75 65 72 79 2e 73 75  70 70 6c 69 65 72 43 6f   query.supplierCo
0270	64 65 20 21 3d 20 6e 75  6c 6c 20 61 6e 64 20 71   de != null and q
0280	75 65 72 79 2e 73 75 70  70 6c 69 65 72 43 6f 64   uery.supplierCod
0290	65 20 21 3d 20 27 27 22  3e 0d 0a 20 20 20 20 20   e != ''">..     
02a0	20 20 20 20 20 20 20 41  4e 44 20 73 75 70 70 6c          AND suppl
02b0	69 65 72 5f 63 6f 64 65  20 3d 20 23 7b 71 75 65   ier_code = #{que
02c0	72 79 2e 73 75 70 70 6c  69 65 72 43 6f 64 65 7d   ry.supplierCode}
02d0	0d 0a 20 20 20 20 20 20  20 20 3c 2f 69 66 3e 0d   ..        </if>.
02e0	0a 20 20 20 20 20 20 20  20 3c 69 66 20 74 65 73   .        <if tes
02f0	74 3d 22 71 75 65 72 79  2e 63 6f 6e 74 61 63 74   t="query.contact
0300	50 65 72 73 6f 6e 20 21  3d 20 6e 75 6c 6c 20 61   Person != null a
0310	6e 64 20 71 75 65 72 79  2e 63 6f 6e 74 61 63 74   nd query.contact
0320	50 65 72 73 6f 6e 20 21  3d 20 27 27 22 3e 0d 0a   Person != ''">..
0330	20 20 20 20 20 20 20 20  20 20 20 20 41 4e 44 20               AND 
0340	63 6f 6e 74 61 63 74 5f  70 65 72 73 6f 6e 20 4c   contact_person L
0350	49 4b 45 20 43 4f 4e 43  41 54 28 27 25 27 2c 20   IKE CONCAT('%', 
0360	23 7b 71 75 65 72 79 2e  63 6f 6e 74 61 63 74 50   #{query.contactP
0370	65 72 73 6f 6e 7d 2c 20  27 25 27 29 0d 0a 20 20   erson}, '%')..  
0380	20 20 20 20 20 20 3c 2f  69 66 3e 0d 0a 20 20 20         </if>..   
0390	20 20 20 20 20 3c 69 66  20 74 65 73 74 3d 22 71        <if test="q
03a0	75 65 72 79 2e 70 68 6f  6e 65 20 21 3d 20 6e 75   uery.phone != nu
03b0	6c 6c 20 61 6e 64 20 71  75 65 72 79 2e 70 68 6f   ll and query.pho
03c0	6e 65 20 21 3d 20 27 27  22 3e 0d 0a 20 20 20 20   ne != ''">..    
03d0	20 20 20 20 20 20 20 20  41 4e 44 20 70 68 6f 6e           AND phon
03e0	65 20 3d 20 23 7b 71 75  65 72 79 2e 70 68 6f 6e   e = #{query.phon
03f0	65 7d 0d 0a 20 20 20 20  20 20 20 20 3c 2f 69 66   e}..        </if
0400	3e 0d 0a 20 20 20 20 20  20 20 20 3c 69 66 20 74   >..        <if t
0410	65 73 74 3d 22 71 75 65  72 79 2e 63 72 65 64 69   est="query.credi
0420	74 52 61 74 69 6e 67 4d  69 6e 20 21 3d 20 6e 75   tRatingMin != nu
0430	6c 6c 22 3e 0d 0a 20 20  20 20 20 20 20 20 20 20   ll">..          
0440	20 20 41 4e 44 20 63 72  65 64 69 74 5f 72 61 74     AND credit_rat
0450	69 6e 67 20 3e 3d 20 23  7b 71 75 65 72 79 2e 63   ing >= #{query.c
0460	72 65 64 69 74 52 61 74  69 6e 67 4d 69 6e 7d 0d   reditRatingMin}.
0470	0a 20 20 20 20 20 20 20  20 3c 2f 69 66 3e 0d 0a   .        </if>..
0480	20 20 20 20 20 20 20 20  3c 69 66 20 74 65 73 74           <if test
0490	3d 22 71 75 65 72 79 2e  63 72 65 64 69 74 52 61   ="query.creditRa
04a0	74 69 6e 67 4d 61 78 20  21 3d 20 6e 75 6c 6c 22   tingMax != null"
04b0	3e 0d 0a 20 20 20 20 20  20 20 20 20 20 20 20 41   >..            A
04c0	4e 44 20 63 72 65 64 69  74 5f 72 61 74 69 6e 67   ND credit_rating
04d0	20 3c 3d 20 23 7b 71 75  65 72 79 2e 63 72 65 64    <= #{query.cred
04e0	69 74 52 61 74 69 6e 67  4d 61 78 7d 0d 0a 20 20   itRatingMax}..  
04f0	20 20 20 20 20 20 3c 2f  69 66 3e 0d 0a 20 20 20         </if>..   
0500	20 20 20 20 20 3c 69 66  20 74 65 73 74 3d 22 71        <if test="q
0510	75 65 72 79 2e 63 6f 6f  70 65 72 61 74 69 6f 6e   uery.cooperation
0520	53 74 61 74 75 73 20 21  3d 20 6e 75 6c 6c 22 3e   Status != null">
0530	0d 0a 20 20 20 20 20 20  20 20 20 20 20 20 41 4e   ..            AN
0540	44 20 63 6f 6f 70 65 72  61 74 69 6f 6e 5f 73 74   D cooperation_st
0550	61 74 75 73 20 3d 20 23  7b 71 75 65 72 79 2e 63   atus = #{query.c
0560	6f 6f 70 65 72 61 74 69  6f 6e 53 74 61 74 75 73   ooperationStatus
0570	7d 0d 0a 20 20 20 20 20  20 20 20 3c 2f 69 66 3e   }..        </if>
0580	0d 0a 20 20 20 20 20 20  20 20 3c 69 66 20 74 65   ..        <if te
0590	73 74 3d 22 71 75 65 72  79 2e 73 74 61 74 75 73   st="query.status
05a0	20 21 3d 20 6e 75 6c 6c  22 3e 0d 0a 20 20 20 20    != null">..    
05b0	20 20 20 20 20 20 20 20  41 4e 44 20 73 74 61 74           AND stat
05c0	75 73 20 3d 20 23 7b 71  75 65 72 79 2e 73 74 61   us = #{query.sta
05d0	74 75 73 7d 0d 0a 20 20  20 20 20 20 20 20 3c 2f   tus}..        </
05e0	69 66 3e 0d 0a 20 20 20  20 20 20 20 20 4f 52 44   if>..        ORD
05f0	45 52 20 42 59 20 63 72  65 61 74 65 64 5f 61 74   ER BY created_at
0600	20 44 45 53 43 0d 0a 20  20 20 20 20 20 20 20 4c    DESC..        L
0610	49 4d 49 54 20 23 7b 71  75 65 72 79 2e 73 69 7a   IMIT #{query.siz
0620	65 7d 20 4f 46 46 53 45  54 20 23 7b 71 75 65 72   e} OFFSET #{quer
0630	79 2e 6f 66 66 73 65 74  7d 0d 0a 20 20 20 20 3c   y.offset}..    <
0640	2f 73 65 6c 65 63 74 3e  0d 0a 0d 0a 20 20 20 20   /select>....    
0650	3c 21 2d 2d 20 e7 bb 9f  e8 ae a1 e7 ac a6 e5 90   <!-- ...........
0660	88 e6 9d a1 e4 bb b6 e7  9a 84 e4 be 9b e5 ba 94   ................
0670	e5 95 86 e6 95 b0 e9 87  8f 20 2d 2d 3e 0d 0a 20   ......... -->.. 
0680	20 20 20 3c 73 65 6c 65  63 74 20 69 64 3d 22 63      <select id="c
0690	6f 75 6e 74 50 61 67 65  4c 69 73 74 22 20 72 65   ountPageList" re
06a0	73 75 6c 74 54 79 70 65  3d 22 69 6e 74 22 3e 0d   sultType="int">.
06b0	0a 20 20 20 20 20 20 20  20 53 45 4c 45 43 54 20   .        SELECT 
06c0	43 4f 55 4e 54 28 2a 29  20 46 52 4f 4d 20 73 75   COUNT(*) FROM su
06d0	70 70 6c 69 65 72 5f 69  6e 66 6f 20 57 48 45 52   pplier_info WHER
06e0	45 20 64 65 6c 65 74 65  64 20 3d 20 30 0d 0a 20   E deleted = 0.. 
06f0	20 20 20 20 20 20 20 3c  69 66 20 74 65 73 74 3d          <if test=
0700	22 71 75 65 72 79 2e 73  75 70 70 6c 69 65 72 4e   "query.supplierN
0710	61 6d 65 20 21 3d 20 6e  75 6c 6c 20 61 6e 64 20   ame != null and 
0720	71 75 65 72 79 2e 73 75  70 70 6c 69 65 72 4e 61   query.supplierNa
0730	6d 65 20 21 3d 20 27 27  22 3e 0d 0a 20 20 20 20   me != ''">..    
0740	20 20 20 20 20 20 20 20  41 4e 44 20 73 75 70 70           AND supp
0750	6c 69 65 72 5f 6e 61 6d  65 20 4c 49 4b 45 20 43   lier_name LIKE C
0760	4f 4e 43 41 54 28 27 25  27 2c 20 23 7b 71 75 65   ONCAT('%', #{que
0770	72 79 2e 73 75 70 70 6c  69 65 72 4e 61 6d 65 7d   ry.supplierName}
0780	2c 20 27 25 27 29 0d 0a  20 20 20 20 20 20 20 20   , '%')..        
0790	3c 2f 69 66 3e 0d 0a 20  20 20 20 20 20 20 20 3c   </if>..        <
07a0	69 66 20 74 65 73 74 3d  22 71 75 65 72 79 2e 73   if test="query.s
07b0	75 70 70 6c 69 65 72 43  6f 64 65 20 21 3d 20 6e   upplierCode != n
07c0	75 6c 6c 20 61 6e 64 20  71 75 65 72 79 2e 73 75   ull and query.su
07d0	70 70 6c 69 65 72 43 6f  64 65 20 21 3d 20 27 27   pplierCode != ''
07e0	22 3e 0d 0a 20 20 20 20  20 20 20 20 20 20 20 20   ">..            
07f0	41 4e 44 20 73 75 70 70  6c 69 65 72 5f 63 6f 64   AND supplier_cod
0800	65 20 3d 20 23 7b 71 75  65 72 79 2e 73 75 70 70   e = #{query.supp
0810	6c 69 65 72 43 6f 64 65  7d 0d 0a 20 20 20 20 20   lierCode}..     
0820	20 20 20 3c 2f 69 66 3e  0d 0a 20 20 20 20 20 20      </if>..      
0830	20 20 3c 69 66 20 74 65  73 74 3d 22 71 75 65 72     <if test="quer
0840	79 2e 63 6f 6e 74 61 63  74 50 65 72 73 6f 6e 20   y.contactPerson 
0850	21 3d 20 6e 75 6c 6c 20  61 6e 64 20 71 75 65 72   != null and quer
0860	79 2e 63 6f 6e 74 61 63  74 50 65 72 73 6f 6e 20   y.contactPerson 
0870	21 3d 20 27 27 22 3e 0d  0a 20 20 20 20 20 20 20   != ''">..       
0880	20 20 20 20 20 41 4e 44  20 63 6f 6e 74 61 63 74        AND contact
0890	5f 70 65 72 73 6f 6e 20  4c 49 4b 45 20 43 4f 4e   _person LIKE CON
08a0	43 41 54 28 27 25 27 2c  20 23 7b 71 75 65 72 79   CAT('%', #{query
08b0	2e 63 6f 6e 74 61 63 74  50 65 72 73 6f 6e 7d 2c   .contactPerson},
08c0	20 27 25 27 29 0d 0a 20  20 20 20 20 20 20 20 3c    '%')..        <
08d0	2f 69 66 3e 0d 0a 20 20  20 20 20 20 20 20 3c 69   /if>..        <i
08e0	66 20 74 65 73 74 3d 22  71 75 65 72 79 2e 70 68   f test="query.ph
08f0	6f 6e 65 20 21 3d 20 6e  75 6c 6c 20 61 6e 64 20   one != null and 
0900	71 75 65 72 79 2e 70 68  6f 6e 65 20 21 3d 20 27   query.phone != '
0910	27 22 3e 0d 0a 20 20 20  20 20 20 20 20 20 20 20   '">..           
0920	20 41 4e 44 20 70 68 6f  6e 65 20 3d 20 23 7b 71    AND phone = #{q
0930	75 65 72 79 2e 70 68 6f  6e 65 7d 0d 0a 20 20 20   uery.phone}..   
0940	20 20 20 20 20 3c 2f 69  66 3e 0d 0a 20 20 20 20        </if>..    
0950	20 20 20 20 3c 69 66 20  74 65 73 74 3d 22 71 75       <if test="qu
0960	65 72 79 2e 63 72 65 64  69 74 52 61 74 69 6e 67   ery.creditRating
0970	4d 69 6e 20 21 3d 20 6e  75 6c 6c 22 3e 0d 0a 20   Min != null">.. 
0980	20 20 20 20 20 20 20 20  20 20 20 41 4e 44 20 63              AND c
0990	72 65 64 69 74 5f 72 61  74 69 6e 67 20 3e 3d 20   redit_rating >= 
09a0	23 7b 71 75 65 72 79 2e  63 72 65 64 69 74 52 61   #{query.creditRa
09b0	74 69 6e 67 4d 69 6e 7d  0d 0a 20 20 20 20 20 20   tingMin}..      
09c0	20 20 3c 2f 69 66 3e 0d  0a 20 20 20 20 20 20 20     </if>..       
09d0	20 3c 69 66 20 74 65 73  74 3d 22 71 75 65 72 79    <if test="query
09e0	2e 63 72 65 64 69 74 52  61 74 69 6e 67 4d 61 78   .creditRatingMax
09f0	20 21 3d 20 6e 75 6c 6c  22 3e 0d 0a 20 20 20 20    != null">..    
0a00	20 20 20 20 20 20 20 20  41 4e 44 20 63 72 65 64           AND cred
0a10	69 74 5f 72 61 74 69 6e  67 20 3c 3d 20 23 7b 71   it_rating <= #{q
0a20	75 65 72 79 2e 63 72 65  64 69 74 52 61 74 69 6e   uery.creditRatin
0a30	67 4d 61 78 7d 0d 0a 20  20 20 20 20 20 20 20 3c   gMax}..        <
0a40	2f 69 66 3e 0d 0a 20 20  20 20 20 20 20 20 3c 69   /if>..        <i
0a50	66 20 74 65 73 74 3d 22  71 75 65 72 79 2e 63 6f   f test="query.co
0a60	6f 70 65 72 61 74 69 6f  6e 53 74 61 74 75 73 20   operationStatus 
0a70	21 3d 20 6e 75 6c 6c 22  3e 0d 0a 20 20 20 20 20   != null">..     
0a80	20 20 20 20 20 20 20 41  4e 44 20 63 6f 6f 70 65          AND coope
0a90	72 61 74 69 6f 6e 5f 73  74 61 74 75 73 20 3d 20   ration_status = 
0aa0	23 7b 71 75 65 72 79 2e  63 6f 6f 70 65 72 61 74   #{query.cooperat
0ab0	69 6f 6e 53 74 61 74 75  73 7d 0d 0a 20 20 20 20   ionStatus}..    
0ac0	20 20 20 20 3c 2f 69 66  3e 0d 0a 20 20 20 20 20       </if>..     
0ad0	20 20 20 3c 69 66 20 74  65 73 74 3d 22 71 75 65      <if test="que
0ae0	72 79 2e 73 74 61 74 75  73 20 21 3d 20 6e 75 6c   ry.status != nul
0af0	6c 22 3e 0d 0a 20 20 20  20 20 20 20 20 20 20 20   l">..           
0b00	20 41 4e 44 20 73 74 61  74 75 73 20 3d 20 23 7b    AND status = #{
0b10	71 75 65 72 79 2e 73 74  61 74 75 73 7d 0d 0a 20   query.status}.. 
0b20	20 20 20 20 20 20 20 3c  2f 69 66 3e 0d 0a 20 20          </if>..  
0b30	20 20 3c 2f 73 65 6c 65  63 74 3e 0d 0a 0d 0a 3c     </select>....<
0b40	2f 6d 61 70 70 65 72 3e  0d 0a                     /mapper>..
