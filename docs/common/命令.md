每一天的工作要建一个计划文档，列举当天的工作任务，请把第二天的工作任务详细列举，做成一个单独的文档

开始2.1 JWT工具类开发的工作。开发时要遵循devlopment-standards.md中的开发规范进行并在必要时更新该文档。在工作时还要把工作的每一步用文字详细的记录下来，以做为后续开发的教材使得。说明每一步在做什么，目的何在，创建了哪些文件，这些文件的作用，以及其它可做为教材使用的内容。做完的工作要在计划表中做好标注。

每一天的工作完成后，需要测试一下，确保工作完成的质量，并对当天工作进行总结，总结当天的工作成果，以及遇到的问题和解决方案，以及生成明天的工作计划。

1.4 用户控制层，该工作是否完成了？如已完成，请在计划中标注


以下是根据Claude在**代码生成、结构化思维和长上下文处理**方面的优势，优化调整后的开发任务指令，能更好地引导Claude产出高质量、可教学的开发过程记录。

### **为什么这样调整（供您理解）：**

1.  **结构化流程匹配Claude强项**：Claude擅长遵循清晰、分步的指令。明确的“步骤1-4”循环，能引导它系统性地输出设计、代码、测试和文档，避免遗漏。
2.  **强调“规范映射”与“解释”**：Claude在生成解释性文本方面出色。要求它在代码中直接标注规范依据，并对安全决策进行解释，能直接产出高质量的教学内容。
3.  **引导深度分析**：要求Claude“主动列出关键约束条款”，能激发它对规范文档进行深度解读和关联，而不仅仅是表面遵循。
4.  **输出格式明确**：要求最终以特定Markdown结构交付，便于您直接审阅、存档或分享为正式文档，符合知识管理需求。

此版本指令能最大程度发挥Claude作为“思考型协作者”的特性，产出兼具高质量代码和深度教学价值的成果。

---

### **开发任务指令适配Claude版**

**1. 核心任务**
开始day3-plan.md中的2.1 角色权限相关表结构的开发工作，依照plan.md中的数据库脚本来创建相应的数据表，如在开发过程中修改了数据表的定义，请同步修改plan.md中的相关内容，以及项目中的数据库初始化脚本。

**2. 核心约束与原则**
- **规范驱动**：所有设计决策和代码实现，必须主动引用并遵循 `development-standards.md` 中的具体条款，不要轻易改动已写好的代码，如果要改，需要先查看与之有关的代码并做完整的修改，改完后要测试功能是否正常。开发过程中涉及到数据库的改动，需要同步更新init.sql及database-design.md中的内容。
- **教学优先**：开发过程的记录将被用作团队核心教材，请以“让新开发者能完全理解并重现”为标准进行记录。

**3. 工作流程**
请严格按以下 **“开发-记录-关联”** 循环执行每一步：

**步骤1：规划与设计**
> **目的**：展示如何从需求和规范出发进行设计。
> **请输出**：
> 1. 基于`development-standards.md`，列出与本工具类相关的**关键约束条款**（至少3条）。
> 2. 据此设计工具类的**核心方法签名**（如`generateToken(Map claims, Long expire)`），并解释每项设计如何满足上述约束。

**步骤2：实现与编码**
> **目的**：展示如何将设计安全、规范地转化为代码。
> **请输出**：
> 1. **完整文件路径与内容**：每次创建或修改一个文件，请提供其完整路径和内容。
> 2. **规范映射**：在代码关键位置（如密钥加载、异常处理）以注释形式标明遵循了哪条规范（如：`// 遵循：安全规范-第3条（密钥分离）`）。
> 3. **安全决策说明**：对关键安全决策（如选择特定签名算法、设置令牌过期时间）进行简短解释。

**步骤3：验证与测试**
> **目的**：展示如何验证工具类的正确性与健壮性。
> **请输出**：
> 1. 提供一个简易的、可独立运行的测试用例（如一个包含main方法的测试类），演示核心功能的使用。
> 2. 说明应进行的**边界测试**和**异常测试**场景（如过期令牌、篡改签名、空值输入等）。

**步骤4：文档与知识固化**
> **目的**：将开发成果转化为团队知识。
> **请输出**：
> 1. **对`development-standards.md`的更新建议**：如果实践发现规范有缺失或需要澄清之处，请具体说明。
> 2. **“给新开发者的快速指南”**：用3-5个要点总结本工具类的核心使用方式和注意事项。

**4. 最终交付物格式要求**
请将你的整个响应组织成一个结构清晰的Markdown文档，包含以下部分：
- **任务完成状态**：在开头明确声明。
- **开发过程记录**：按上述“步骤1-4”详细展开。
- **生成的完整代码清单**：汇总所有创建的文件及其路径，更新当天开发计划中相应部分的内容。
- **规范遵循与更新摘要**：以表格形式列出所遵循的规范条款及提出的更新建议。
- **后续步骤建议**：简要说明在计划表中应如何标注，以及集成此工具类到项目中的下一步工作建议。

开发中生成的相关文档所归类到相应的目录下。
---

